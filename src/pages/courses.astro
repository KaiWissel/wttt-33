---
import Modal from "../components/modals/CourseModal.vue";
import TableCourse from "../components/tables/TableCourse.vue";
import BaseLayout from "../layouts/BaseLayout.astro";

const pageTitle = "Klassen";
---

<BaseLayout pageTitle={`WTTT 33 - ${pageTitle}`}>
  <h1>{pageTitle}</h1>
  <Modal client:only />
  <TableCourse />
</BaseLayout>

<script>
  // TODO: Why can't I load scripts from the script folder?
  function redirectToNewUrl() {
    window.location.href = "/";
  }

  document.addEventListener("DOMContentLoaded", function (event) {
    // Code, der ausgeführt wird, wenn das DOM vollständig geladen ist
    console.log("DOM vollständig geladen.");
    const token = localStorage.getItem("wttt-33-login-token");

    if (token) return;
    redirectToNewUrl();
  });
</script>
